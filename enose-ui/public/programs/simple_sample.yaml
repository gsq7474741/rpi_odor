id: simple_sample
name: 简单采样
description: 基础的样品采集流程
version: 1.0.0
hardware:
  bottle_capacity_ml: 150
  max_fill_ml: 100
  liquids:
    - id: sample
      name: 样品
      pump_index: 0
      type: LIQUID_SAMPLE
steps:
  - name: 进样
    inject:
      components:
        - liquid_id: sample
          ratio: 1
      tolerance: 0.5
      flow_rate_ml_min: 5
      target_volume_ml: 15
  - name: 平衡等待
    wait:
      duration_s: 60
      timeout_s: 120
  - name: 数据采集
    acquire:
      gas_pump_pwm: 50
      max_duration_s: 300
      heater_cycles: 10
  - name: 排废
    drain:
      gas_pump_pwm: 80
      timeout_s: 60
_editor_layout:
  nodes:
    - id: start
      type: start
      position:
        x: 250
        'y': 50
      data:
        programId: simple_sample
        programName: 简单采样
        description: ''
        version: 1.0.0
    - id: liquid_1
      type: liquidSource
      position:
        x: 50
        'y': 196
      data:
        liquidId: sample
        liquidName: 样品
        ratio: 1
    - id: inject_1
      type: inject
      position:
        x: 250
        'y': 185
      data:
        name: 进样
        targetType: volume
        targetVolumeMl: 15
        tolerance: 0.5
        flowRateMlMin: 5
    - id: wait_1
      type: waitTime
      position:
        x: 250
        'y': 349
      data:
        name: 平衡等待
        durationS: 60
        timeoutS: 120
    - id: acquire_1
      type: acquire
      position:
        x: 250
        'y': 491
      data:
        name: 数据采集
        gasPumpPwm: 50
        terminationType: cycles
        heaterCycles: 10
        maxDurationS: 300
    - id: drain_1
      type: drain
      position:
        x: 250
        'y': 653
      data:
        name: 排废
        gasPumpPwm: 80
        timeoutS: 60
    - id: end
      type: end
      position:
        x: 250
        'y': 815
      data: {}
  edges:
    - id: e1
      source: start
      target: inject_1
      sourceHandle: flow
      targetHandle: flow
    - id: e2
      source: liquid_1
      target: inject_1
      sourceHandle: liquid
      targetHandle: liquid
    - id: e3
      source: inject_1
      target: wait_1
      sourceHandle: flow
      targetHandle: flow
    - id: e4
      source: wait_1
      target: acquire_1
      sourceHandle: flow
      targetHandle: flow
    - id: e5
      source: acquire_1
      target: drain_1
      sourceHandle: flow
      targetHandle: flow
    - id: e6
      source: drain_1
      target: end
      sourceHandle: flow
      targetHandle: flow
