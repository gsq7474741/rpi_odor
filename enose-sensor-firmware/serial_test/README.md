# BME688 传感器串口测试工具

ESP32 BME688 传感器板的 Windows 测试程序，支持：
- 串口命令发送
- 实时数据接收
- 多通道曲线图显示
- 温度/湿度/气体电阻监控

## 安装

使用 uv 安装依赖：

```powershell
# 进入目录
cd test/serial_test

# 创建虚拟环境并安装依赖
uv sync
```

## 运行

```powershell
# 使用 uv 运行
uv run python main.py
```

## 功能说明

### 连接控制
- **刷新**: 刷新可用串口列表
- **连接/断开**: 连接或断开串口

### 命令按钮
- **同步**: 发送 sync 命令，获取设备时间戳
- **初始化**: 初始化所有传感器
- **状态**: 查询设备和传感器状态
- **开始采集**: 启动数据采集
- **停止采集**: 停止数据采集
- **清除图表**: 清除所有曲线数据
- **重置设备**: 重启 ESP32

### 图表
- **电阻/电压**: 显示气体电阻或模拟电压
- **温度**: 显示各传感器温度
- **湿度**: 显示各传感器湿度

### 传感器显示
点击复选框可以显示/隐藏对应传感器的曲线

### 自定义命令
可以输入原始 JSON 命令发送，例如：
```json
{"cmd": "config", "id": 1, "params": {"temps": [320,100,100,100,200,200,200,320,320,320], "durs": [5,2,10,30,5,5,5,5,5,5]}}
```

## 通信协议

参考 `docs/REFACTOR_PLAN.md` 中的协议定义。
